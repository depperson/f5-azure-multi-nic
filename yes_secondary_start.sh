#!/bin/bash\nwhile getopts ":e:h:l:k:o:u:" opt; do\n  case $opt in\n    e)\n      externalip=$OPTARG\n      ;;\n    h)\n      hostname=$OPTARG\n      ;;\n    l)\n      location=$OPTARG\n      ;;\n    k)\n      licenseKey=$OPTARG\n      ;;\n    o)\n      port=$OPTARG\n      set -x\n      ;;\n    u)\n      udrip=$OPTARG\n      ;;\n  esac\ndone\nmydg=$(ip route get 1 | awk '{print $3;exit}')\nexec /usr/bin/f5-rest-node /config/cloud/f5-cloud-libs/scripts/onboard.js --output /var/log/onboard.log --log-level debug --host ${externalip} --port ${port} -u admin --password-url file:///config/cloud/passwd --hostname ${hostname}.${location}.cloudapp.azure.com --license ${licenseKey} --ntp pool.ntp.org --db tmm.maxremoteloglength:2048 --module ltm:nominal --signal ONBOARD_DONE\nexec /usr/bin/f5-rest-node /config/cloud/f5-cloud-libs/scripts/network.js --wait-for ONBOARD_DONE --log-level debug --output /var/log/network.log --host ${externalip} --port ${port} -u admin --password-url file:///config/cloud/passwd --multi-nic --default-gw ${mydg} --vlan name:external, nic:1.0 --vlan name:internal, nic:1.1 --self-ip name:external_ip, address:${externalip}, vlan:external --self-ip name:internal_ip, address:${udrip}, vlan:internal --background --force-reboot --signal NETWORK_DONE\nrm -f /config/cloud/passwd